(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ee468be"],{"1b49":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("test",[a("div",[t._v("内容管理")])])],1),a("el-form",{attrs:{size:"small","label-width":"80px"}},[a("el-form-item",{attrs:{label:"状态:"}},[a("el-radio-group",{model:{value:t.content.status,callback:function(e){t.$set(t.content,"status",e)},expression:"content.status"}},[a("el-radio",{attrs:{label:null}},[t._v("全部")]),a("el-radio",{attrs:{label:0}},[t._v("草稿")]),a("el-radio",{attrs:{label:1}},[t._v("待审核")]),a("el-radio",{attrs:{label:2}},[t._v("审核通过")]),a("el-radio",{attrs:{label:3}},[t._v("审核失败")])],1)],1),a("el-form-item",{attrs:{label:"频道:"}},[a("my-channel",{model:{value:t.content.channel_id,callback:function(e){t.$set(t.content,"channel_id",e)},expression:"content.channel_id"}})],1),a("el-form-item",{attrs:{label:"日期:"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.dateChenge},model:{value:t.pubdata,callback:function(e){t.pubdata=e},expression:"pubdata"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("筛选")])],1)],1)],1),a("el-card",{staticStyle:{"margin-top":"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"封面"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.cover.images[0],fit:"fill"}})]}}])}),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?a("el-tag",[t._v("待审核")]):t._e(),2===e.row.status?a("el-tag",{attrs:{type:"success"}},[t._v("审核通过")]):t._e(),0===e.row.status?a("el-tag",{attrs:{type:"info"}},[t._v("草稿")]):t._e(),3===e.row.status?a("el-tag",{attrs:{type:"warning"}},[t._v("审核失败")]):t._e(),4===e.row.status?a("el-tag",{attrs:{type:"danger"}},[t._v("已删除")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"pubdate",label:"发布时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",plain:""},on:{click:function(a){return t.edit_article(e.row.id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",plain:""},on:{click:function(a){return t.delete_article(e.row.id)}}})],1)]}}])})],1),a("el-pagination",{attrs:{background:"",page:t.content.page,"page-size":t.per_page,layout:"prev, pager, next",total:t.total},on:{"current-change":t.currentPage}})],1)],1)},l=[],r=(a("96cf"),a("89ba")),i={data:function(){return{content:{status:null,channel_id:null,begin_pubdate:null,end_pubdate:null,page:1},id:"",per_page:0,pubdata:"",tableData:[],total:0,channel:[]}},created:function(){this.getArticles()},methods:{onSubmit:function(){""===this.content.channel_id&&(this.content.channel_id=null),this.getArticles(this.content)},dateChenge:function(){this.pubdata&&(this.content.begin_pubdate=this.pubdata[0],this.content.end_pubdate=this.pubdata[1])},getArticles:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get("/articles",{params:this.content});case 2:e=t.sent,a=e.data.data,this.tableData=a.results,this.total=a.total_count,this.per_page=a.per_page,this.id=a.results.id;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),currentPage:function(t){this.content.page=t,this.getArticles()},edit_article:function(t){this.$router.push({path:"/publish",query:{id:t}})},delete_article:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.delete("/articles/".concat(e));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},s=i,c=(a("2e9d"),a("2877")),o=Object(c["a"])(s,n,l,!1,null,null,null);e["default"]=o.exports},"2e9d":function(t,e,a){"use strict";var n=a("fce4"),l=a.n(n);l.a},fce4:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4ee468be.8b158674.js.map