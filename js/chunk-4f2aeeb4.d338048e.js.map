{"version":3,"sources":["webpack:///./src/views/setting/index.vue?ca2c","webpack:///./src/views/setting/index.vue?775c","webpack:///src/views/setting/index.vue","webpack:///./src/views/setting/index.vue?48fc","webpack:///./src/views/setting/index.vue","webpack:///./src/utils/eventBus.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","slot","_v","staticStyle","_s","userInfo","id","mobile","model","value","userUpdate","callback","$$v","$set","expression","on","subUser","staticClass","imgUpdata","imageUrl","staticRenderFns","data","name","email","intro","methods","created","getUser","component","Vue"],"mappings":"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","file":"js/chunk-4f2aeeb4.d338048e.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('test',[_vm._v(\"个人设置\")])],1),_c('el-form',{staticStyle:{\"width\":\"800px\",\"float\":\"left\"},attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"编号:\"}},[_c('div',[_vm._v(_vm._s(_vm.userInfo.id))])]),_c('el-form-item',{attrs:{\"label\":\"手机号:\"}},[_c('div',[_vm._v(_vm._s(_vm.userInfo.mobile))])]),_c('el-form-item',{attrs:{\"label\":\"媒体名称:\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},attrs:{\"size\":\"small\"},model:{value:(_vm.userUpdate.name),callback:function ($$v) {_vm.$set(_vm.userUpdate, \"name\", $$v)},expression:\"userUpdate.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"媒体介绍:\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},attrs:{\"type\":\"textarea\"},model:{value:(_vm.userUpdate.intro),callback:function ($$v) {_vm.$set(_vm.userUpdate, \"intro\", $$v)},expression:\"userUpdate.intro\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱:\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},attrs:{\"size\":\"small\"},model:{value:(_vm.userUpdate.email),callback:function ($$v) {_vm.$set(_vm.userUpdate, \"email\", $$v)},expression:\"userUpdate.email\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.subUser}},[_vm._v(\"保存设置\")])],1)],1),_c('div',{staticClass:\"changeImg\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"http-request\":_vm.imgUpdata}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\",staticStyle:{\"line-height\":\"178px\"}})]),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\"}},[_vm._v(\"修改头像\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-card>\r\n    <div slot=\"header\">\r\n      <test>个人设置</test>\r\n    </div>\r\n    <el-form label-width=\"80px\" style=\"width:800px;float:left\">\r\n        <el-form-item label=\"编号:\">\r\n            <div>{{userInfo.id}}</div>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号:\">\r\n            <div>{{userInfo.mobile}}</div>\r\n        </el-form-item>\r\n        <el-form-item label=\"媒体名称:\">\r\n            <el-input v-model=\"userUpdate.name\" size=\"small\" style=\"width:400px\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"媒体介绍:\">\r\n            <el-input v-model=\"userUpdate.intro\"  type=\"textarea\" style=\"width:400px\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱:\">\r\n            <el-input v-model=\"userUpdate.email\"  size=\"small\" style=\"width:400px\" ></el-input>\r\n        </el-form-item>\r\n         <el-form-item>\r\n             <el-button type=\"success\" @click=\"subUser\">保存设置</el-button>\r\n         </el-form-item>\r\n    </el-form>\r\n    <div class=\"changeImg\">\r\n        <el-upload\r\n        class=\"avatar-uploader\"\r\n        action=\"\"\r\n        :show-file-list=\"false\"\r\n        :http-request=\"imgUpdata\"\r\n    >\r\n        <img v-if=\"imageUrl\" :src=\"imageUrl\"  class=\"avatar\" />\r\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\" style=\"line-height:178px\"></i>\r\n    </el-upload>\r\n    <div style=\"text-align: center;margin-top:20px\">修改头像</div>\r\n    </div>\r\n\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport eventBus from '@/utils/eventBus.js'\r\nimport local from '@/utils/local.js'\r\nexport default {\r\n  data () {\r\n    return {\r\n      userInfo: {\r\n        id: '',\r\n        mobile: ''\r\n      },\r\n      userUpdate: {\r\n        name: '',\r\n        email: '',\r\n        intro: ''\r\n      },\r\n      imageUrl: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async getUser () {\r\n      const { data: { data } } = await this.$http('user/profile')\r\n      this.userUpdate = data\r\n      this.userInfo = data\r\n      this.imageUrl = data.photo\r\n    },\r\n    async imgUpdata ({ file }) {\r\n      const formdata = new FormData()\r\n      formdata.append('photo', file)\r\n      const { data: { data } } = await this.$http.patch('user/photo', formdata)\r\n      this.imageUrl = data.photo\r\n      eventBus.$emit('imgUpdata', data.photo)\r\n      const user = local.getUser()\r\n      user.photo = data.photo\r\n      local.setUser(user)\r\n    },\r\n    async subUser () {\r\n      await this.$http.patch('user/profile', this.userUpdate)\r\n    }\r\n  },\r\n  created () {\r\n    this.getUser()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n.changeImg {\r\n    float: left;\r\n    margin-top: 50px;\r\n}\r\n.text {\r\n  font-size: 14px;\r\n}\r\n\r\n.item {\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.clearfix:before,\r\n.clearfix:after {\r\n  display: table;\r\n  content: \"\";\r\n}\r\n.clearfix:after {\r\n  clear: both;\r\n}\r\n\r\n.box-card {\r\n  width: 480px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=665b21ff&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nexport default new Vue()\r\n"],"sourceRoot":""}